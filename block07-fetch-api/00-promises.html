<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript for Web</title>
    <style>
      body {
        width: 500px;
        margin: 15px auto;
        font-family: sans-serif;
        line-height: 1.5;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <script type="text/javascript">
      // Understanding Promises
      // Before we start using Promises, it's important to understand what they are and how they work. A Promise is an object that represents a value that may not be available yet, but will be at some point in the future. Promises are commonly used in JavaScript to handle asynchronous operations, such as loading data from an API or reading a file from disk.

      // A Promise has three states:

      // pending: The initial state. The Promise is neither fulfilled nor rejected.
      // fulfilled: The Promise has been fulfilled, meaning that the desired value is available.
      // rejected: The Promise has been rejected, meaning that an error occurred.
      // Step 2: Creating a Promise
      // To create a Promise, you use the new Promise() constructor. The constructor takes a single argument, which is a function that accepts two parameters: resolve and reject. The resolve function is called when the Promise is fulfilled, and the reject function is called when the Promise is rejected.

      // const myPromise = new Promise((resolve, reject) => {
      //   // Do some asynchronous operation here
      //   // If the operation is successful, call resolve with the desired value
      //   // If the operation fails, call reject with an error
      // });
      
      // myPromise
      // .then((value) => {
      //   // Handle the fulfilled Promise here
      // })
      // .catch((error) => {
      //   // Handle the rejected Promise here
      // });


      function fetchData() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            if (Math.random() > 0.5) {
              reject(new Error("Something went wrong"));
            } else {
              resolve({ name: "John Doe", age: 30 });
            }
          }, 2000);
        });
      }

      console.log("Before fetchData()");
      fetchData()
        .then((data) => {
          console.log('then');
          console.log('data', data);
        })
        .catch((error) => {
          console.log('catch');
          console.error('error',error);
        });
      console.log("After fetchData()");
    </script>

  </body>
</html>