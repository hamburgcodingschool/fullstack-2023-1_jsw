<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript for Web</title>
    <style>
      body {
        width: 500px;
        margin: 15px auto;
        font-family: sans-serif;
        line-height: 1.5;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <script type="text/javascript">

      console.log("before giveMeANumber");
      const giveMeANumber = () => {
        return 3;
      }
      console.log(giveMeANumber());
      console.log("after giveMeANumber");


      // Understanding Promises
      // Before we start using Promises, it's important to understand what they are and how they work. A Promise is an object that represents a value that may not be available yet, but will be at some point in the future. Promises are commonly used in JavaScript to handle asynchronous operations, such as loading data from an API or reading a file from disk.

      // A Promise has three states:
      // pending: The initial state. The Promise is neither fulfilled nor rejected.
      // fulfilled: The Promise has been fulfilled, meaning that the desired value is available.
      // rejected: The Promise has been rejected, meaning that an error occurred.

      // const myPromise = new Promise((resolve, reject) => {
      //   // stuff that takes time
      // })

      // myPromise.then((value) => { null }).catch((error) => { null });

      console.log("--------------------");

      function fetchData() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            const number = Math.random();
            console.log(number);
            if(number > 0.5) {
              resolve({ name: "John Doe", age: 30});
            } else {
              reject("Something went wrong");
            }
          }, 2000);
        });
      }

      console.log("before fetchData");
      fetchData()
        .then((person) => {
          console.log('then');
          console.log(person);
        })
        .catch((error) => {
          console.log("catch");
          console.log(error)
        })
      console.log("after fetchData");



    </script>

  </body>
</html>